<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta http-equiv="Content-Language" content="en-US" />
<meta name="keywords" content="PostgreSQL, INFORMATION_SCHEMA, meta information, sql, schema, retrieve, table catalogs, PostgreSQL, triggers, stored procedures, constraints, Lorenzo Alberton, php, pear, mdb, mdb2, database, database manager, database designer, database tools" />
<meta name="description" content="Extracting META informations from PostgreSQL using INFORMATION_SCHEMA and table catalogs, Lorenzo Alberton, PHP developer, PEAR developer, Software Designer, Database Administrator" />
<meta name="keyphrase" content="PostgreSQL meta info, PostgreSQL INFORMATION_SCHEMA, extract metadata, extract table structure, retrieve field structure, list tables, list fields, list constraints, describe structure" />
<title>Lorenzo Alberton - Articles - Extracting META information from PostgreSQL (INFORMATION_SCHEMA)</title>

<link href="http://backup/css/css.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://backup/css/print.css" media="print" rel="stylesheet" type="text/css" />
<link href="http://backup/css/shCore.css" media="screen" rel="stylesheet" type="text/css" />
<link href="http://backup/css/shThemeDefault.css" media="screen" rel="stylesheet" type="text/css" />    <link rel="shortcut icon" href="http://backup/material/servidores/PostgreSQL/favicon.ico" />
    <link type="application/rss+xml" rel="alternate" title="rss" href="http://backup/rss/php.xml"  />
    <link rel="openid.server" href="http://www.myopenid.com/server" />
    <link rel="openid.delegate" href="http://quipo.myopenid.com/" />
    <meta http-equiv="X-XRDS-Location" content="http://www.myopenid.com/xrds?username=quipo.myopenid.com" />
    <meta name="verify-v1" content="JaWCe5PHYmAy//hd6WlFMUehD0V8vrPq5lNEFmS5myM=" />
    <script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-9504457-1']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ga);
  })();
</script>
</head>
<body id="home">
<div id="page">
	<div id="header">
		<h1><a href="http://backup/" title="Lorenzo Alberton">Lorenzo Alberton</a></h1>
		<ul id="top-nav">
<li ><a href="http://backup/">Home</a></li><li class="active"><a href="http://backup/articles">Articles</a></li><li ><a href="http://backup/projects">Projects</a></li><li ><a href="http://backup/portfolio">Portfolio</a></li><li ><a href="http://backup/talks">Talks</a></li><li ><a href="http://backup/donate">Donate</a></li><li ><a href="http://backup/about">About</a></li></ul>	</div>
	<div id="contents">
		
<div class="col1">
    <h4>
        At a glance</h4>
<p>Extracting META information from a PostgreSQL database using the INFORMATION_SCHEMA views and the system catalogs (pg_class, pg_user, pg_view)</p>
<p>
<img src="http://backup/images/printer.png" width="16" height="16" alt="print this page" class="icon" /> <a href="javascript:print();">Print</a> &nbsp;&nbsp;&nbsp;
<img src="http://backup/images/world_link.png" width="16" height="16" alt="permalink" class="icon" /> <a href="http://www.alberton.info/postgresql_meta_info.html">Permalink</a>
</p>
    <h4>
        Latest articles</h4>
<ul class="nav2">
    <li><a href="http://backup/batching_vs_latency_and_jobqueue_models.html">On batching vs. latency, and jobqueue models</a></li>
    <li><a href="http://backup/kafka_07_php_client_library.html">Updated Kafka PHP client library</a></li>
    <li><a href="http://backup/musings_on_technical_papers_dremel_nosql_gossip.html">Musings on some technical papers I read this weekend: Google Dremel, NoSQL comparison, Gossip Protocols</a></li>
    <li><a href="http://backup/datasift_historical_twitter_access.html">Historical Twitter access - A journey into optimising Hadoop jobs</a></li>
    <li><a href="http://backup/kafka_apache_incubator.html">Kafka proposed as Apache incubator project</a></li>
    <li><a href="http://backup/nosql_databases_what_when_why_phpuk2011.html">NoSQL Databases: What, When and Why (PHPUK2011)</a></li>
    <li><a href="http://backup/phpnw10_summary_and_new_job.html">PHPNW10 slides and new job!</a></li>
</ul>
</div>
<div class="col2">
    <h2><a href="http://www.alberton.info/postgresql_meta_info.html">Extracting META information from PostgreSQL (INFORMATION_SCHEMA)</a></h2>
    <div class="postinfo">
        <a href="http://backup/articles/filter/tag/PHP">PHP</a>, <a href="http://backup/articles/filter/tag/Database">Database</a>, <a href="http://backup/articles/filter/tag/PostgreSQL">PostgreSQL</a>, <a href="http://backup/articles/filter/tag/INFORMATION_SCHEMA">INFORMATION_SCHEMA</a> &nbsp;&nbsp;
        08 May 2006 09:48         &nbsp;&nbsp; <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comments">56 comments</a>    </div>
    <a name="p1"></a><p>Following my <a href="http://backup/material/servidores/PostgreSQL/firebird_sql_meta_info.html">tutorial on how to extract meta informations from Firebird SQL</a>, I'm now going to show how to retrieve the same informations from <strong>PostgreSQL</strong>, using the <code>INFORMATION_SCHEMA</code> (available since PostgreSQL 7.4) and with system catalogs (<code>pg_class, pg_user, pg_view</code>, etc).<br /> 
        NB: as you probably know, you can list tables/indices/sequences/views from the command line with the <code>\d{t|i|s|v}</code> command, but here I want to show how to extract these informations using standard SQL queries.</p><a name="p2"></a><h3>Test data</h3><p>We need a few sample tables, indices and views to test the following queries, so let's create them. We also create a sample TRIGGER and a function.</p><a name="p3"></a><pre class="brush: sql">-- sample data to test PostgreSQL INFORMATION_SCHEMA
 
-- TABLE TEST
CREATE TABLE TEST (
  TEST_NAME CHAR(30) NOT NULL,
  TEST_ID INTEGER DEFAULT '0' NOT NULL,
  TEST_DATE TIMESTAMP NOT NULL
);
ALTER TABLE TEST ADD CONSTRAINT PK_TEST PRIMARY KEY (TEST_ID);
 
-- TABLE TEST2 with some CONSTRAINTs and an INDEX
CREATE TABLE TEST2 (
  ID INTEGER NOT NULL,
  FIELD1 INTEGER,
  FIELD2 CHAR(15),
  FIELD3 VARCHAR(50),
  FIELD4 INTEGER,
  FIELD5 INTEGER,
  ID2 INTEGER NOT NULL
);
ALTER TABLE TEST2 ADD CONSTRAINT PK_TEST2 PRIMARY KEY (ID2);
ALTER TABLE TEST2 ADD CONSTRAINT TEST2_FIELD1ID_IDX UNIQUE (ID, FIELD1);
ALTER TABLE TEST2 ADD CONSTRAINT TEST2_FIELD4_IDX UNIQUE (FIELD4);
CREATE INDEX TEST2_FIELD5_IDX ON TEST2(FIELD5);
 
-- TABLE NUMBERS
CREATE TABLE NUMBERS (
  NUMBER INTEGER DEFAULT '0' NOT NULL,
  EN CHAR(100) NOT NULL,
  FR CHAR(100) NOT NULL
);
 
-- TABLE NEWTABLE
CREATE TABLE NEWTABLE (
  ID INT DEFAULT 0 NOT NULL,
  SOMENAME VARCHAR (12),
  SOMEDATE TIMESTAMP NOT NULL
);
ALTER TABLE NEWTABLE ADD CONSTRAINT PKINDEX_IDX PRIMARY KEY (ID);
CREATE SEQUENCE NEWTABLE_SEQ INCREMENT 1 START 1;
 
-- VIEW on TEST
CREATE VIEW "testview"(
  TEST_NAME,
  TEST_ID,
  TEST_DATE
) AS
SELECT *
FROM TEST
WHERE TEST_NAME LIKE 't%';
 
-- VIEW on NUMBERS
CREATE VIEW "numbersview"(
  NUMBER,
  TRANS_EN,
  TRANS_FR
) AS
SELECT *
FROM NUMBERS
WHERE NUMBER > 100;
 
-- TRIGGER on NEWTABLE
CREATE FUNCTION add_stamp() RETURNS OPAQUE AS '
    BEGIN
      IF (NEW.somedate IS NULL OR NEW.somedate = 0) THEN
        NEW.somedate := CURRENT_TIMESTAMP;
        RETURN NEW;
      END IF;
    END;
' LANGUAGE 'plpgsql';
 
CREATE TRIGGER ADDCURRENTDATE
BEFORE INSERT OR UPDATE
ON newtable FOR EACH ROW
  EXECUTE PROCEDURE add_stamp();
 
-- TABLEs for testing CONSTRAINTs
CREATE TABLE testconstraints (
  someid integer NOT NULL,
  somename character varying(10) NOT NULL,
  CONSTRAINT testconstraints_id_pk PRIMARY KEY (someid)
);
CREATE TABLE testconstraints2 (
  ext_id integer NOT NULL,
  modified date,
  uniquefield character varying(10) NOT NULL,
  usraction integer NOT NULL,
  CONSTRAINT testconstraints_id_fk FOREIGN KEY (ext_id)
      REFERENCES testconstraints (someid) MATCH SIMPLE
      ON UPDATE CASCADE ON DELETE CASCADE,
  CONSTRAINT unique_2_fields_idx UNIQUE (modified, usraction),
  CONSTRAINT uniquefld_idx UNIQUE (uniquefield)
);</pre><a name="p4"></a><h3>List TABLEs</h3><p>Here's the query that will return the names of the tables defined in the current database:</p><a name="p5"></a><pre class="brush: sql">SELECT relname
  FROM pg_class
 WHERE relname !~ '^(pg_|sql_)'
   AND relkind = 'r';
<!--
SELECT c.relname AS "Name"
  FROM pg_class c, pg_user u
 WHERE c.relowner = u.usesysid
   AND c.relkind = 'r'
   AND NOT EXISTS (
       SELECT 1
         FROM pg_views
        WHERE viewname = c.relname
       )
   AND c.relname !~ '^(pg_|sql_)'
UNION
SELECT c.relname AS "Name"
  FROM pg_class c
 WHERE c.relkind = 'r'
   AND NOT EXISTS (
       SELECT 1
         FROM pg_views
        WHERE viewname = c.relname
       )
   AND NOT EXISTS (
       SELECT 1
         FROM pg_user
        WHERE usesysid = c.relowner
       )
   AND c.relname !~ '^pg_';
--> 
-- using INFORMATION_SCHEMA:
 
SELECT table_name
  FROM information_schema.tables
 WHERE table_type = 'BASE TABLE'
   AND table_schema NOT IN
       ('pg_catalog', 'information_schema');</pre><a name="p6"></a><h3>List VIEWs</h3><p>Here's the query that will return the names of the VIEWs defined in the current database:</p><a name="p7"></a><pre class="brush: sql">-- with postgresql 7.2:
 
SELECT viewname
  FROM pg_views
 WHERE viewname !~ '^pg_';
 
-- with postgresql 7.4 and later:
 
SELECT viewname
  FROM pg_views
 WHERE schemaname NOT IN
       ('pg_catalog', 'information_schema')
   AND viewname !~ '^pg_';
 
-- using INFORMATION_SCHEMA:
 
SELECT table_name
  FROM information_schema.tables
 WHERE table_type = 'VIEW'
   AND table_schema NOT IN
       ('pg_catalog', 'information_schema')
   AND table_name !~ '^pg_';
 
-- or
 
SELECT table_name
  FROM information_schema.views
 WHERE table_schema NOT IN ('pg_catalog', 'information_schema')
   AND table_name !~ '^pg_';
<!--
# show only the VIEWs referencing a given table
 
      SELECT viewname
        FROM pg_views
NATURAL JOIN pg_tables
       WHERE tablename ='test';
--></pre><a name="p8"></a><h3>List users</h3><pre class="brush: sql">SELECT usename
  FROM pg_user;</pre><a name="p9"></a><h3>List table fields</h3><p>Here's the query that will return the names of the fields of the TEST2 table:</p><a name="p10"></a><pre class="brush: sql">SELECT a.attname
  FROM pg_class c, pg_attribute a, pg_type t
 WHERE c.relname = 'test2'
   AND a.attnum > 0
   AND a.attrelid = c.oid
   AND a.atttypid = t.oid
 
-- with INFORMATION_SCHEMA:
 
SELECT column_name
  FROM information_schema.columns
 WHERE table_name = 'test2';</pre><a name="p11"></a><h3>Detailed table field info</h3><p>If you want some more info about the field definitions, you can retrieve a larger subset of the fields available in the schema:</p><a name="p12"></a><pre class="brush: sql">SELECT a.attnum AS ordinal_position,
         a.attname AS column_name,
         t.typname AS data_type,
         a.attlen AS character_maximum_length,
         a.atttypmod AS modifier,
         a.attnotnull AS notnull,
         a.atthasdef AS hasdefault
    FROM pg_class c,
         pg_attribute a,
         pg_type t
   WHERE c.relname = 'test2'
     AND a.attnum > 0
     AND a.attrelid = c.oid
     AND a.atttypid = t.oid
ORDER BY a.attnum;
 
-- with INFORMATION_SCHEMA:
 
  SELECT ordinal_position,
         column_name,
         data_type,
         column_default,
         is_nullable,
         character_maximum_length,
         numeric_precision
    FROM information_schema.columns
   WHERE table_name = 'test2'
ORDER BY ordinal_position;</pre><a name="p13"></a><h3>List INDICES</h3><p>Here's the query that will return the names of the INDICES defined in the TEST2 table. Unfortunately I have no idea how to extract them from the INFORMATION_SCHEMA. If you do, please let me know.<br /> 
NB: the CONSTRAINTs are not listed</p><a name="p14"></a><pre class="brush: sql">SELECT relname
  FROM pg_class
 WHERE oid IN (
    SELECT indexrelid
      FROM pg_index, pg_class
     WHERE pg_class.relname='test2'
       AND pg_class.oid=pg_index.indrelid
       AND indisunique != 't'
       AND indisprimary != 't'
       );</pre><a name="p15"></a><h3>Detailed INDEX info</h3><p>If you want to know which table columns are referenced by an index, you can do it in two steps: first you get the table name and field(s) position with this query:</p><a name="p16"></a><pre class="brush: sql">SELECT relname, indkey
  FROM pg_class, pg_index
 WHERE pg_class.oid = pg_index.indexrelid
   AND pg_class.oid IN (
    SELECT indexrelid
      FROM pg_index, pg_class
     WHERE pg_class.relname='test2'
       AND pg_class.oid=pg_index.indrelid
       AND indisunique != 't'
       AND indisprimary != 't'
);</pre><a name="p17"></a><p>Then, using your favorite language, you explode the indkey (the key separator is a space), and for each key you run this query:</p><a name="p18"></a><pre class="brush: sql">SELECT t.relname, a.attname, a.attnum
     FROM pg_index c
LEFT JOIN pg_class t
       ON c.indrelid  = t.oid
LEFT JOIN pg_attribute a
       ON a.attrelid = t.oid
      AND a.attnum = ANY(indkey)
    WHERE t.relname = 'test2'
      AND a.attnum = 6; -- this is the index key</pre><a name="p19"></a><h3>List CONSTRAINTs</h3><p>Here's the query that will return the names of the CONSTRAINTs defined in the TEST2 table:</p><a name="p20"></a><pre class="brush: sql">SELECT relname
  FROM pg_class
 WHERE oid IN (
    SELECT indexrelid
      FROM pg_index, pg_class
     WHERE pg_class.relname='test2'
       AND pg_class.oid=pg_index.indrelid
       AND (   indisunique = 't'
            OR indisprimary = 't'
       )
);
 
-- with INFORMATION_SCHEMA:
 
SELECT constraint_name, constraint_type
  FROM information_schema.table_constraints
 WHERE table_name = 'test2';
<!--
SELECT *
  FROM information_schema.constraint_column_usage
--></pre><a name="p21"></a><h3>Detailed CONSTRAINT info</h3><p>If you want to retrieve detailed info from any constraint (fields, type, rules, referenced table and fields for FOREIGN KEYs, etc.) given its name and table, here's the query to do so:</p><a name="p22"></a><pre class="brush: sql">SELECT c.conname AS constraint_name,
          CASE c.contype
            WHEN 'c' THEN 'CHECK'
            WHEN 'f' THEN 'FOREIGN KEY'
            WHEN 'p' THEN 'PRIMARY KEY'
            WHEN 'u' THEN 'UNIQUE'
          END AS "constraint_type",
          CASE WHEN c.condeferrable = 'f' THEN 0 ELSE 1 END AS is_deferrable,
          CASE WHEN c.condeferred = 'f' THEN 0 ELSE 1 END AS is_deferred,
          t.relname AS table_name,
          array_to_string(c.conkey, ' ') AS constraint_key,
          CASE confupdtype
            WHEN 'a' THEN 'NO ACTION'
            WHEN 'r' THEN 'RESTRICT'
            WHEN 'c' THEN 'CASCADE'
            WHEN 'n' THEN 'SET NULL'
            WHEN 'd' THEN 'SET DEFAULT'
          END AS on_update,
          CASE confdeltype
            WHEN 'a' THEN 'NO ACTION'
            WHEN 'r' THEN 'RESTRICT'
            WHEN 'c' THEN 'CASCADE'
            WHEN 'n' THEN 'SET NULL'
            WHEN 'd' THEN 'SET DEFAULT'
          END AS on_delete,
          CASE confmatchtype
            WHEN 'u' THEN 'UNSPECIFIED'
            WHEN 'f' THEN 'FULL'
            WHEN 'p' THEN 'PARTIAL'
          END AS match_type,
          t2.relname AS references_table,
          array_to_string(c.confkey, ' ') AS fk_constraint_key
     FROM pg_constraint c
LEFT JOIN pg_class t  ON c.conrelid  = t.oid
LEFT JOIN pg_class t2 ON c.confrelid = t2.oid
    WHERE t.relname = 'testconstraints2'
     AND c.conname = 'testconstraints_id_fk';
     
-- with INFORMATION_SCHEMA:
 
   SELECT tc.constraint_name,
          tc.constraint_type,
          tc.table_name,
          kcu.column_name,
	  tc.is_deferrable,
          tc.initially_deferred,
          rc.match_option AS match_type,
          rc.update_rule AS on_update,
          rc.delete_rule AS on_delete,
          ccu.table_name AS references_table,
          ccu.column_name AS references_field
     FROM information_schema.table_constraints tc
LEFT JOIN information_schema.key_column_usage kcu
       ON tc.constraint_catalog = kcu.constraint_catalog
      AND tc.constraint_schema = kcu.constraint_schema
      AND tc.constraint_name = kcu.constraint_name
LEFT JOIN information_schema.referential_constraints rc
       ON tc.constraint_catalog = rc.constraint_catalog
      AND tc.constraint_schema = rc.constraint_schema
      AND tc.constraint_name = rc.constraint_name
LEFT JOIN information_schema.constraint_column_usage ccu
       ON rc.unique_constraint_catalog = ccu.constraint_catalog
      AND rc.unique_constraint_schema = ccu.constraint_schema
      AND rc.unique_constraint_name = ccu.constraint_name
    WHERE tc.table_name = 'testconstraints2'
      AND tc.constraint_name = 'testconstraints_id_fk';</pre><a name="p23"></a><p>The "<code>constraint_key</code>" and "<code>fk_constraint_key</code>"
    fields returned by the first query are space-separated strings containing the
    position of the fields involved (in the <code>FOREIGN KEY</code> 
    constraint and those referenced by it), so you may need to retrieve them with
    another query on the respective tables. Since the field positions are stored
    as arrays, you can't (to the best of my knowledge) get all the field names
    with an unique query (well, you could with a stored procedure).<br /> 
    The second query, the one using the <code>INFORMATION_SCHEMA</code>,
    is certainly more straightforward, albeit slower.</p><a name="p24"></a><h3>List sequences</h3><p>A <strong>SEQUENCE</strong> is an object that automatically generate sequence numbers.
        A <code>SEQUENCE</code> is often used to ensure a unique value in a <code>PRIMARY KEY</code> that must uniquely identify the associated row.</p><a name="p25"></a><pre class="brush: sql">SELECT relname
  FROM pg_class
 WHERE relkind = 'S'
   AND relnamespace IN (
        SELECT oid
          FROM pg_namespace
         WHERE nspname NOT LIKE 'pg_%'
           AND nspname != 'information_schema'
);</pre><a name="p26"></a><h3>List TRIGGERs</h3><pre class="brush: sql">SELECT trg.tgname AS trigger_name
  FROM pg_trigger trg, pg_class tbl
 WHERE trg.tgrelid = tbl.oid
   AND tbl.relname !~ '^pg_';
-- or
SELECT tgname AS trigger_name
  FROM pg_trigger
 WHERE tgname !~ '^pg_';
 
-- with INFORMATION_SCHEMA:
 
SELECT DISTINCT trigger_name
  FROM information_schema.triggers
 WHERE trigger_schema NOT IN
       ('pg_catalog', 'information_schema');</pre><a name="p27"></a><p>List only the triggers for a given table:</p><a name="p28"></a><pre class="brush: sql">SELECT trg.tgname AS trigger_name
  FROM pg_trigger trg, pg_class tbl
 WHERE trg.tgrelid = tbl.oid
   AND tbl.relname = 'newtable';
 
-- with INFORMATION_SCHEMA:
 
SELECT DISTINCT trigger_name
  FROM information_schema.triggers
 WHERE event_object_table = 'newtable'
   AND trigger_schema NOT IN
       ('pg_catalog', 'information_schema');</pre><a name="p29"></a><h3>Detailed TRIGGER info</h3><p>Show more informations about the trigger definitions:</p><a name="p30"></a><pre class="brush: sql">SELECT trg.tgname AS trigger_name,
       tbl.relname AS table_name,
       p.proname AS function_name,
       CASE trg.tgtype & cast(2 as int2)
         WHEN 0 THEN 'AFTER'
         ELSE 'BEFORE'
       END AS trigger_type,
       CASE trg.tgtype & cast(28 as int2)
         WHEN 16 THEN 'UPDATE'
         WHEN  8 THEN 'DELETE'
         WHEN  4 THEN 'INSERT'
         WHEN 20 THEN 'INSERT, UPDATE'
         WHEN 28 THEN 'INSERT, UPDATE, DELETE'
         WHEN 24 THEN 'UPDATE, DELETE'
         WHEN 12 THEN 'INSERT, DELETE'
       END AS trigger_event,
       CASE trg.tgtype & cast(1 as int2)
         WHEN 0 THEN 'STATEMENT'
         ELSE 'ROW'
       END AS action_orientation
  FROM pg_trigger trg,
       pg_class tbl,
       pg_proc p
 WHERE trg.tgrelid = tbl.oid
   AND trg.tgfoid = p.oid
   AND tbl.relname !~ '^pg_';
 
-- with INFORMATION_SCHEMA:
 
SELECT *
  FROM information_schema.triggers
 WHERE trigger_schema NOT IN
       ('pg_catalog', 'information_schema');</pre><a name="p31"></a><h3>List FUNCTIONs</h3><pre class="brush: sql">SELECT proname
  FROM pg_proc pr,
       pg_type tp
 WHERE tp.oid = pr.prorettype
   AND pr.proisagg = FALSE
   AND tp.typname <> 'trigger'
   AND pr.pronamespace IN (
       SELECT oid
         FROM pg_namespace
        WHERE nspname NOT LIKE 'pg_%'
          AND nspname != 'information_schema'
);
 
-- with INFORMATION_SCHEMA:
 
SELECT routine_name
  FROM information_schema.routines
 WHERE specific_schema NOT IN
       ('pg_catalog', 'information_schema')
   AND type_udt_name != 'trigger';</pre><a name="p32"></a><p>Albe Laurenz sent me the following function that is even more informative: for a function name and schema, it selects the position in the argument list, the direction, the name and the data-type of each argument.
This procedure requires PostgreSQL 8.1 or later.</p><a name="p33"></a><pre class="brush: sql">CREATE OR REPLACE FUNCTION public.function_args(
  IN funcname character varying,
  IN schema character varying,
  OUT pos integer,
  OUT direction character,
  OUT argname character varying,
  OUT datatype character varying)
RETURNS SETOF RECORD AS $$DECLARE
  rettype character varying;
  argtypes oidvector;
  allargtypes oid[];
  argmodes "char"[];
  argnames text[];
  mini integer;
  maxi integer;
BEGIN
  /* get object ID of function */
  SELECT INTO rettype, argtypes, allargtypes, argmodes, argnames
         CASE
         WHEN pg_proc.proretset
         THEN 'setof ' || pg_catalog.format_type(pg_proc.prorettype, NULL)
         ELSE pg_catalog.format_type(pg_proc.prorettype, NULL) END,
         pg_proc.proargtypes,
         pg_proc.proallargtypes,
         pg_proc.proargmodes,
         pg_proc.proargnames
    FROM pg_catalog.pg_proc
         JOIN pg_catalog.pg_namespace
         ON (pg_proc.pronamespace = pg_namespace.oid)
   WHERE pg_proc.prorettype <> 'pg_catalog.cstring'::pg_catalog.regtype
     AND (pg_proc.proargtypes[0] IS NULL
      OR pg_proc.proargtypes[0] <> 'pg_catalog.cstring'::pg_catalog.regtype)
     AND NOT pg_proc.proisagg
     AND pg_proc.proname = funcname
     AND pg_namespace.nspname = schema
     AND pg_catalog.pg_function_is_visible(pg_proc.oid);
 
  /* bail out if not found */
  IF NOT FOUND THEN
    RETURN;
  END IF;
 
  /* return a row for the return value */
  pos = 0;
  direction = 'o'::char;
  argname = 'RETURN VALUE';
  datatype = rettype;
  RETURN NEXT;
 
  /* unfortunately allargtypes is NULL if there are no OUT parameters */
  IF allargtypes IS NULL THEN
    mini = array_lower(argtypes, 1); maxi = array_upper(argtypes, 1);
  ELSE
    mini = array_lower(allargtypes, 1); maxi = array_upper(allargtypes, 1);
  END IF;
  IF maxi < mini THEN RETURN; END IF;
 
  /* loop all the arguments */
  FOR i IN mini .. maxi LOOP
    pos = i - mini + 1;
    IF argnames IS NULL THEN
      argname = NULL;
    ELSE
      argname = argnames[pos];
    END IF;
    IF allargtypes IS NULL THEN
      direction = 'i'::char;
      datatype = pg_catalog.format_type(argtypes[i], NULL);
    ELSE
      direction = argmodes[i];
      datatype = pg_catalog.format_type(allargtypes[i], NULL);
    END IF;
    RETURN NEXT;
  END LOOP;
 
  RETURN;
END;$$ LANGUAGE plpgsql STABLE STRICT SECURITY INVOKER;
COMMENT ON FUNCTION public.function_args(character varying, character
varying)
IS $$For a function name and schema, this procedure selects for each
argument the following data:
- position in the argument list (0 for the return value)
- direction 'i', 'o', or 'b'
- name (NULL if not defined)
- data type$$;</pre><a name="p34"></a><h3>Show PROCEDURE definition</h3><pre class="brush: sql">SELECT p.proname AS procedure_name,
          p.pronargs AS num_args,
          t1.typname AS return_type,
          a.rolname AS procedure_owner,
          l.lanname AS language_type,
          p.proargtypes AS argument_types_oids,
          prosrc AS body
     FROM pg_proc p
LEFT JOIN pg_type t1 ON p.prorettype=t1.oid   
LEFT JOIN pg_authid a ON p.proowner=a.oid 
LEFT JOIN pg_language l ON p.prolang=l.oid
    WHERE proname = :PROCEDURE_NAME;</pre><a name="p35"></a><p>pg_proc.proargtypes contains an array of oids pointing to pg_type.oid. You can use unnest(), generate_procedure() or the function in the previous paragraph to retrieve the data type of each parameter.</p><a name="p36"></a><h3>What else?</h3><p>If you'd like to see some other example queries, or have some comments and/or suggestions, just drop me a mail (you can find my address in the footer of this page) and I'll add them to this list.<br /> 
HTH.</p>    <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
<a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
<a class="addthis_button_tweet"></a>
<a class="addthis_button_pinterest_pinit"></a>
<a class="addthis_counter addthis_pill_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="http://s7.addthis.com/js/300/addthis_widget.js#pubid=quipo"></script>
<!-- AddThis Button END -->    <hr />

<a href="https://twitter.com/lorenzoalberton" class="twitter-follow-button" data-show-count="false" data-size="large">Follow @lorenzoalberton</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<!--
<a href="http://twitter.com/lorenzoalberton" title="View Lorenzo Alberton's Twitter stream" class="icon"><img src="/images/icon_twitter16x16.png" width="18" height="18" class="icon" alt="View Lorenzo Alberton's Twitter stream"></a> <a href="http://twitter.com/lorenzoalberton">Follow Lorenzo on Twitter</a> -->
<hr />
            <div class="related">
        <h3>Related articles</h3>
        <ul>
                    <li><a href="http://backup/material/servidores/PostgreSQL/firebird_sql_meta_info.html">Extracting META information from Interbase/Firebird SQL (INFORMATION_SCHEMA)</a></li>
                    <li><a href="http://backup/material/servidores/PostgreSQL/oracle_meta_info.html">Extracting META information from Oracle (INFORMATION_SCHEMA)</a></li>
                    <li><a href="http://backup/material/servidores/PostgreSQL/sql_server_meta_info.html">Extracting META information from SQL Server (INFORMATION_SCHEMA)</a></li>
                    <li><a href="http://backup/material/servidores/PostgreSQL/database_meta_info_articles_updated.html">Updated articles to extract META informations from databases</a></li>
                </ul>
        </div><br />
    <script type="text/javascript"><!--
google_ad_client = "pub-1846047193336603";
google_ad_slot = "2955708178";
google_ad_width = 300;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

    <a name="comments"></a>
        <div class="comments">
        <h3>56 responses to "Extracting META information from PostgreSQL (INFORMATION_SCHEMA)"</h3>
                <a name="comment-2"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://simplehost.co.nz" rel="nofollow">james</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-2">23 June 2009 04:44</a></div>
            <p>hi, <br />reading through your queries, really good stuff. One slight but critical part is missing and I am wondering if you could add it. <br />Under the section 'Detailed CONSTRAINT info' you have 2 queries that retrieve index information, I am interested in getting 4 columns for foreign keys, src_table, src_column, dst_table, dst_column, your 2nd information_schema sql can do this fine but it is slowww, your longer query above that one is much faster but is missing just one column, the dst_column (foreign table column name) and I have tried but cant find how to reliable retrieve it as I dont have an ERD for the pg_* tables.<br />Any help is much appreciated, thanks!</p>
        </div>
                <a name="comment-4"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-4">27 June 2009 23:23</a></div>
            <p>Hi, what you want is a not easy with one single query, because to get the name of the fields you have to do a JOIN on pg_attribute, but the pg_constraint conkey and confkey fields are arrays (listing the column numbers within the tables in the constraint). If you know your FOREIGN KEY constraint is on a single field, you can get what you want with this query:<br /><pre class="brush: sql">
   SELECT c.conname AS constraint_name,
          t.relname AS table_name,
          a.attname AS field_name,
          t2.relname AS references_table,
          a2.attname AS references_field
     FROM pg_constraint c
LEFT JOIN pg_class t  ON c.conrelid  = t.oid
LEFT JOIN pg_class t2 ON c.confrelid = t2.oid
LEFT JOIN pg_attribute a ON t.oid = a.attrelid AND a.attnum = c.conkey[1]
LEFT JOIN pg_attribute a2 ON t2.oid = a2.attrelid AND a2.attnum = c.confkey[1]
    WHERE t.relname = 'testconstraints2'
     AND c.conname = 'testconstraints_id_fk'
     AND c.contype = 'f';
</pre><br />If the FK is on multiple columns, then either you parse the conkey/confkeys arrays and do another query to select the names of the matching columns, or you try something like generate_subscripts(): http://www.postgresql.org/docs/8.4/static/arrays.html</p>
        </div>
                <a name="comment-17"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.sofastatistics.com" rel="nofollow">Grant Paton-Simpson</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-17">24 August 2009 03:52</a></div>
            <p>Thank you so much for this information.  I am building a postgresql module for my open source statistics package SOFA Statistics and I found it very hard to get the required information in a useful form.</p>
        </div>
                <a name="comment-26"></a>
        <div class="comment">
            <div class="postinfo">pepy, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-26">10 September 2009 08:05</a></div>
            <p>Lorenzo hi!
Thank you for sharing your knowledge with us. I found your notes very useful.
Have you got anything similar concerning how to retrieve users queries on a postgres database?
I 've tried pg_stat_activity but it only shows current queries and only select queries (and not update, insert, delete).
I 've tried pg_log directory by changing in the conf file the log_line_prefix and log_statement= 'all' but it has implications  on the load (creates extreme big log file).
Is there any easy way to track users queries?
Thank you
Pepy</p>
        </div>
                <a name="comment-31"></a>
        <div class="comment">
            <div class="postinfo">Jignesh, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-31">02 October 2009 13:37</a></div>
            <p>Hi, I am new to PostgreSQL. I have started learning and written triggers and they are working fine. Currently I am using spi_exe_query to insert/update my log table when primary table updated. Could you please give me an example of spi_prepare and spi_execute_plan usage in  PL/Perl that I can use in my trigger. I couldn\'t find any example in documentation.<br />Basically, I want to prepare a plan and want to store it in %_SHARED hash so that I can use whenever I want. Moreover, if table definition changed then I should purge the cache.<br />Any suggestion would be much appreciated.<br />Thanks, Jignesh</p>
        </div>
                <a name="comment-39"></a>
        <div class="comment">
            <div class="postinfo">newbie, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-39">13 October 2009 09:53</a></div>
            <p>Thanks Lorenzo.<br />Could you provied an example for conkey/confkeys arrays parsing in the case of multiple columns in fk ?<br /></p>
        </div>
                <a name="comment-40"></a>
        <div class="comment">
            <div class="postinfo">Jordi, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-40">14 October 2009 10:23</a></div>
            <p>When you talk about to List Indices you said you don't have no idea to find using information schema. I found this way:
<pre class="brush: sql">
SELECT * FROM information_schema.table_constraints  WHERE table_name = 'test'
</pre><br />In this table you have 'constraint_type' to know the index type.<br />And, in addition, I found this select if someone are interested to know primary key(s) of one table:
<pre class="brush: sql">
SELECT * FROM information_schema.key_column_usage WHERE table_name = 'test'
</pre><br /></p>
        </div>
                <a name="comment-41"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-41">14 October 2009 20:24</a></div>
            <p>Jordi, the first query you mention only lists constraints, not indices. The second one is not entirely correct either, since it will list all the columns having some constraint. A better way of listing the PRIMARY KEYs is:<br /><pre class="brush: sql">
SELECT constraint_name
FROM information_schema.table_constraints
WHERE table_name = 'test' and constraint_type = 'PRIMARY KEY';
</pre><br />Or, if you are interested in the full details for the PK, this one:<br /><pre class="brush: sql">
   SELECT tc.constraint_name,
          tc.constraint_type,
          tc.table_name,
          kcu.column_name,
	  tc.is_deferrable,
          tc.initially_deferred,
          rc.match_option AS match_type,
          rc.update_rule AS on_update,
          rc.delete_rule AS on_delete,
          ccu.table_name AS references_table,
          ccu.column_name AS references_field
     FROM information_schema.table_constraints tc
LEFT JOIN information_schema.key_column_usage kcu
       ON tc.constraint_catalog = kcu.constraint_catalog
      AND tc.constraint_schema = kcu.constraint_schema
      AND tc.constraint_name = kcu.constraint_name
LEFT JOIN information_schema.referential_constraints rc
       ON tc.constraint_catalog = rc.constraint_catalog
      AND tc.constraint_schema = rc.constraint_schema
      AND tc.constraint_name = rc.constraint_name
LEFT JOIN information_schema.constraint_column_usage ccu
       ON rc.unique_constraint_catalog = ccu.constraint_catalog
      AND rc.unique_constraint_schema = ccu.constraint_schema
      AND rc.unique_constraint_name = ccu.constraint_name
    WHERE tc.table_name = 'test'
      AND tc.constraint_type = 'PRIMARY KEY';
</pre></p>
        </div>
                <a name="comment-42"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-42">14 October 2009 20:33</a></div>
            <p>Jignesh, have a look at my article about 
table auditing: http://www.alberton.info/postgresql_table_audit.html. It's not something I would recommend on a live system, but it's OK if you only want to play around.</p>
        </div>
                <a name="comment-43"></a>
        <div class="comment">
            <div class="postinfo">jjp, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-43">21 October 2009 23:03</a></div>
            <p>i'm getting some strange results for both information schema queries for detailed pk's and detailed constraint's.  looks almost like a cartesian product.<br />how portable is information_schema, i hear its a standard but is this like browser standards or real standards?</p>
        </div>
                <a name="comment-44"></a>
        <div class="comment">
            <div class="postinfo">jjp, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-44">21 October 2009 23:25</a></div>
            <p>re: my last comment, i neglected to notice or mention that for detailed constraint info i left off the constraint name in where clause.<br />if i modify the above PK query to look for tc.constraint_type = 'FOREIGN KEY' i get odd results as well.<br />any idea how to query the information schema to get full FK details on a given table without specifying the constraint name?</p>
        </div>
                <a name="comment-56"></a>
        <div class="comment">
            <div class="postinfo">Pugazendhi Asaimuthu, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-56">01 December 2009 20:59</a></div>
            <p>Thanks Lorenzo. You have an excellent resource for us here. In spite of all this I'm unable to solve my problem. Can you please help with this. I need to query column statistics to get tablename, rowcount, columnname, no. of nulls, null percentage and no. of distinct values. 
Thanks for your help.</p>
        </div>
                <a name="comment-77"></a>
        <div class="comment">
            <div class="postinfo">Nakh, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-77">26 January 2010 13:57</a></div>
            <p>Thanks for sharing it, a great post !</p>
        </div>
                <a name="comment-81"></a>
        <div class="comment">
            <div class="postinfo">KJ, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-81">05 February 2010 09:05</a></div>
            <p>Hi,I am new to PostgreSql.I found your material very helpful.I am trying to write a generic function for auditing databases using pl/pgsql.I tried to use the same logic as you have used in your function using pl/tcl (http://www.alberton.info/postgresql_table_audit.html) but the use of new and old is giving errors.Is it not possible to convert new and old into arrays and then use them in pl/pgsql?If yes,then can you please help me out in this?
Thank You </p>
        </div>
                <a name="comment-82"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-82">05 February 2010 09:36</a></div>
            <p>@KJ: unfortunately not, the reason why I used tcl instead of pl/pgsql is exactly that one: you can't use NEW and OLD with variable identifiers for the field names.</p>
        </div>
                <a name="comment-83"></a>
        <div class="comment">
            <div class="postinfo">KJ, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-83">08 February 2010 11:56</a></div>
            <p>I am really Thankful to you for such a quick response.....I guess using another language would be a better option....</p>
        </div>
                <a name="comment-84"></a>
        <div class="comment">
            <div class="postinfo">Bruno Faria, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-84">09 February 2010 13:54</a></div>
            <p>Hi! I need get the function body. How do I can get it? Thks</p>
        </div>
                <a name="comment-85"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-85">10 February 2010 21:56</a></div>
            <p>@Bruno: I updated the article with the query you need, to fetch the stored procedure body. HTH.</p>
        </div>
                <a name="comment-86"></a>
        <div class="comment">
            <div class="postinfo">Bruno, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-86">12 February 2010 15:49</a></div>
            <p>Hi Alberton,
Thk to you for a quick solution. it works!</p>
        </div>
                <a name="comment-90"></a>
        <div class="comment">
            <div class="postinfo">Sameer, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-90">26 February 2010 07:12</a></div>
            <p>Do you know how to extract more information about the sequences in Postgres ??<br />Basically I need the sequence name (which I got ), its start value, increment value and max value (I tried the information_schema.sequences but dont see any inofrmation except names)</p>
        </div>
                <a name="comment-92"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-92">28 February 2010 15:21</a></div>
            <p>@Sameer Unfortunately I don't know. The INFORMATION_SCHEMA.SEQUENCE view is incomplete (as you can see from the definition [1], it's returning NULL for those values), probably waiting for the relevant info to be exposed. Looking at the sequence.c file [2], it looks like it shouldn't be that hard to add a function returning the sequence info. <br />[1] http://git.postgresql.org/gitweb?p=postgresql.git;a=blob_plain;f=src/backend/catalog/information_schema.sql;hb=HEAD <br />[2] http://git.postgresql.org/gitweb?p=postgresql.git;a=blob_plain;f=src/backend/commands/sequence.c;hb=HEAD</p>
        </div>
                <a name="comment-95"></a>
        <div class="comment">
            <div class="postinfo">rbn, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-95">10 March 2010 20:50</a></div>
            <p>In regards to constraint meta data. I've been attempting to extract information about constraints as well, mostly in regard to foreign keys. I started with a query from stack overflow that I found ( http://stackoverflow.com/questions/1567051/introspect-postgresql-8-3-to-find-foreign-keys ) and modified it somewhat. This isn't quite what I need, but it is a start, and maybe it will help others too. What I'm interested in doing with this, eventually, is also including field counts from tables with those foreign references. I'm still simply trying learn about the pg_catalogs and meta data and how to best extract meaningful information from them. Here's a query that gives the four column output mentioned in the conversation about constraints, albeit, only for foreign keys. I didn't write the original version, and I've changed it a little bit, possibly for the worse, but I've learned a lot toying with it. Any help or comments or corrections would be appreciated. 
<pre class="brush: sql">
SELECT conname, 
       conrelid as &quot;table&quot;, 
       pgc.relname as &quot;tabname&quot;, 
       a.attname as columns, 
       confrelid as &quot;foreign table&quot;, 
       pgf.relname as ftabname, 
       af.attname as &quot;fcolumn&quot; 
  FROM pg_attribute AS af, 
       pg_attribute AS a, 
       pg_class pgc, 
       pg_class pgf, 
       ( SELECT conname, 
                conrelid, 
                confrelid, 
                conkey[i] AS conkey, 
                confkey[i] as confkey 
           FROM ( SELECT conname, 
                         conrelid, 
                         confrelid, 
                         conkey, 
                         confkey, 
                         generate_series(1, array_upper(conkey, 1)) AS i 
                    FROM pg_constraint 
                   WHERE contype = 'f' ) AS ss 
           ) AS ss2 
   WHERE af.attnum = confkey 
     AND af.attrelid = confrelid 
     AND a.attnum = conkey 
     AND a.attrelid = conrelid 
     AND pgf.relfilenode = confrelid 
     AND pgc.relfilenode = conrelid 
ORDER BY ftabname, fcolumn, tabname, columns</pre></p>
        </div>
                <a name="comment-100"></a>
        <div class="comment">
            <div class="postinfo">Glen Jarvis, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-100">24 March 2010 00:39</a></div>
            <p>This page has been an incredible resource. I have it bookmarked and I been using it for two weeks as a reference.<br />I noticed that you use information_schema in many places. This is incredibly trivial compared to the system table. However, for completeness, I noticed you didn\'t have the information_schema for enabled_rules (instead of pg_user);<br />select * from information_schema.enabled_roles ;</p>
        </div>
                <a name="comment-110"></a>
        <div class="comment">
            <div class="postinfo">Axeia, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-110">02 April 2010 23:13</a></div>
            <p>Thank you for sharing, some of these are really hard to find especially if you're accustomed to other databases that list things somewhat more readable for us poor humans.</p>
        </div>
                <a name="comment-111"></a>
        <div class="comment">
            <div class="postinfo">Greg Lindstrom, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-111">07 April 2010 01:55</a></div>
            <p>Thanks for the postgres tutorial. How can I pull the comments on the database, tables and column? I've looked at the database dump but can't figure it out. Thanks, --greg</p>
        </div>
                <a name="comment-112"></a>
        <div class="comment">
            <div class="postinfo">Sara, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-112">07 April 2010 06:21</a></div>
            <p>Thank you so much for this information</p>
        </div>
                <a name="comment-117"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-117">13 April 2010 11:07</a></div>
            <p>@Greg: Given this sample table: <br /><pre class="brush: sql">
CREATE TABLE test_comments (
  id integer NOT NULL DEFAULT 0,
  testfield character varying(10),
  CONSTRAINT test_comments_pk PRIMARY KEY (id)
);
COMMENT ON SCHEMA public IS 'For  testing comments (schema).';
COMMENT ON TABLE test_comments IS 'For testing comments (table).';
COMMENT ON COLUMN test_comments.testfield IS 'For testing comments (field).';
</pre> <br />Here's how you can retrieve schema, table and column comments with one query: 
<pre class="brush: sql"> 
  SELECT d.nspname AS schema_name,
         pg_catalog.obj_description(d.oid) AS schema_comment,
         c.relname AS table_name,
         pg_catalog.obj_description(c.oid) AS table_comment,
         a.attnum AS ordinal_position,
         a.attname AS column_name,
         t.typname AS data_type,
         a.attlen AS character_maximum_length,
         pg_catalog.col_description(c.oid, a.attnum) AS field_comment,
         a.atttypmod AS modifier,
         a.attnotnull AS notnull,
         a.atthasdef AS hasdefault
    FROM pg_class c
LEFT JOIN pg_attribute a ON a.attrelid = c.oid
LEFT JOIN pg_type t ON a.atttypid = t.oid
LEFT JOIN pg_namespace d ON d.oid = c.relnamespace         
   WHERE c.relname = 'test_comments'
     AND a.attnum &gt; 0
ORDER BY a.attnum;
</pre><br />HTH</p>
        </div>
                <a name="comment-119"></a>
        <div class="comment">
            <div class="postinfo">masc, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-119">21 April 2010 16:22</a></div>
            <p>here's how to retrieve index information for a specific table in one shot. 
<pre class="brush: sql">
SELECT a.index_name, b.attname 
  FROM ( 
    SELECT a.indrelid, 
           c.relname index_name, 
           unnest(a.indkey) index_num 
      FROM pg_index a, 
           pg_class b, 
           pg_class c 
     WHERE b.relname='tablename' 
       AND b.oid=a.indrelid 
       AND a.indisprimary != 't' 
       AND a.indexrelid=c.oid 
       ) a, 
       pg_attribute b 
 WHERE a.indrelid = b.attrelid 
   AND a.index_num = b.attnum 
 ORDER BY a.index_name, a.index_num
</pre></p>
        </div>
                <a name="comment-127"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.mysoftforge.com" rel="nofollow">Craigbert</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-127">13 May 2010 19:32</a></div>
            <p>Lorenzo,
WOW!  Thank you so much for putting this together!  The sample database you have at the top is great, as is the rest of the stuff you have here!
I do have one question.  I am trying to gather index information and I see that you have a two step query for that.  I would like to know how to determine whether the index is unique or not and the position of the fields within the index.  Can that be done?
THANKS!!!!</p>
        </div>
                <a name="comment-128"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-128">14 May 2010 09:52</a></div>
            <p>@masc: thanks! You the man.<br />@Craigbert: starting from masc's query, here's how you can get the info you need:<br /><pre class="brush: sql">
  SELECT a.index_name, 
         b.attname,
         b.attnum,
         a.indisunique,
         a.indisprimary
    FROM ( SELECT a.indrelid,
                  a.indisunique,
                  a.indisprimary, 
                  c.relname index_name, 
                  unnest(a.indkey) index_num 
             FROM pg_index a, 
                  pg_class b, 
                  pg_class c 
            WHERE b.relname='test2' 
              AND b.oid=a.indrelid 
              AND a.indexrelid=c.oid 
         ) a, 
         pg_attribute b 
   WHERE a.indrelid = b.attrelid 
     AND a.index_num = b.attnum 
ORDER BY a.index_name, 
         a.index_num
</pre></p>
        </div>
                <a name="comment-132"></a>
        <div class="comment">
            <div class="postinfo">Macgayver, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-132">27 May 2010 01:05</a></div>
            <p>Oh Great, very good code. Tanks for Contibuition.
I From Brazil.</p>
        </div>
                <a name="comment-135"></a>
        <div class="comment">
            <div class="postinfo">Jason, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-135">02 June 2010 15:55</a></div>
            <p>Thanks a lot! Very useful!</p>
        </div>
                <a name="comment-145"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.energychaser.com" rel="nofollow">Chuck</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-145">21 June 2010 20:37</a></div>
            <p>I need to retrieve a functions &quot;CONTEXT&quot;. Basically, I want to retrieve what functions called a sub-function. I know this information is available because it displays in the pgsql log file. Great resource you have here.</p>
        </div>
                <a name="comment-146"></a>
        <div class="comment">
            <div class="postinfo">Wassim, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-146">23 June 2010 17:40</a></div>
            <p>Hi Lorenzo, is there a query to display the actual trigger create statement: <br />(CREATE TRIGGER some_trigger BEFORE INSERT OR UPDATE ON mytable FOR EACH ROW EXECUTE PROCEDURE some_function();) , <br />or we have to construct it based on the information from this query &quot;SELECT * FROM information_schema.triggers WHERE trigger_schema NOT IN ('pg_catalog', 'information_schema');&quot; <br />Thanks</p>
        </div>
                <a name="comment-164"></a>
        <div class="comment">
            <div class="postinfo">Lucas, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-164">13 September 2010 06:12</a></div>
            <p>Lorenzo,<br />this is great :).
Thanks, you made my day, today :P<br />thx
Lucas.</p>
        </div>
                <a name="comment-172"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://sites.google.com/site/chrelad" rel="nofollow">chrelad</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-172">28 September 2010 22:34</a></div>
            <p>This is a great reference, thanks!</p>
        </div>
                <a name="comment-185"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://non" rel="nofollow">VIlius</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-185">15 November 2010 19:06</a></div>
            <p>YOu are GOD :) this reference is so amazing! </p>
        </div>
                <a name="comment-189"></a>
        <div class="comment">
            <div class="postinfo">Mario Majcica, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-189">10 December 2010 14:25</a></div>
            <p>Great contrib, thanks for whole series of articles about schema extrapolation! </p>
        </div>
                <a name="comment-252"></a>
        <div class="comment">
            <div class="postinfo">Tony, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-252">27 January 2011 21:23</a></div>
            <p>how  i obtain  the ddl of objets in postgres? for example any table<br />please!!!</p>
        </div>
                <a name="comment-522"></a>
        <div class="comment">
            <div class="postinfo">Zatman, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-522">22 March 2011 09:51</a></div>
            <p>If I have one table Foo with column row_id that is being referenced by table FooBar.foo_id and also another table FooBee.foo_id, could you give an example on how to find if row_id X in Foo is being referenced by another table?<br />Thanks</p>
        </div>
                <a name="comment-539"></a>
        <div class="comment">
            <div class="postinfo">Amit, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-539">29 April 2011 12:39</a></div>
            <p>Can you get a query that show the List of dependent object for a given table/view. </p>
        </div>
                <a name="comment-540"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-540">29 April 2011 20:56</a></div>
            <p>@Amit: let's add some context to your question: supposing we have a view dependent on another view, like in this case:
<pre class="brush: sql">
CREATE VIEW test2_view1 AS (
   SELECT id, field1, field2 
     FROM test2
    WHERE id2 &gt; 10
 );
CREATE VIEW test2_view2 AS (
   SELECT id, field1, field2 
     FROM test2_view1
    WHERE id &gt; 5
 );
</pre><br />if we try to drop the first view, then we get an error:<br /><pre class="brush: sql">
DROP VIEW test2_view1;
-- ERROR:  cannot drop view test2_view1 because other objects depend on it
-- DETAIL:  view test2_view2 depends on view test2_view1
-- HINT:  Use DROP ... CASCADE to drop the dependent objects too.
</pre><br />To show the dependent objects (either another view or a table) for the first view we can run this query:<br /><pre class="brush: sql">
     SELECT v.relname AS &quot;dependent_view&quot;, 
            t.relname AS &quot;referenced_relation&quot;
       FROM pg_depend dv 
  LEFT JOIN pg_class v ON v.oid = dv.refobjid 
  LEFT JOIN pg_namespace nv ON v.relnamespace = nv.oid
  LEFT JOIN pg_depend dt 
         ON dv.classid = dt.classid
        AND dv.objid = dt.objid
        AND dv.refobjid &lt;&gt; dt.refobjid 
        AND dv.refclassid = dt.refclassid
        AND dv.classid = 'pg_catalog.pg_rewrite'::regclass 
        AND dv.refclassid = 'pg_catalog.pg_class'::regclass 
  LEFT JOIN pg_class t ON t.oid = dt.refobjid 
  LEFT JOIN pg_namespace nt 
         ON t.relnamespace = nt.oid
        AND nv.nspname = 'public'
        AND nt.nspname = 'public' 
      WHERE dv.deptype = 'i' 
        AND v.relkind = 'v' 
        AND t.relkind IN ('r', 'v') 
        AND v.relname = 'test2_view2' -- VIEW NAME
   GROUP BY v.relname, t.relname; 
</pre><br />HTH</p>
        </div>
                <a name="comment-541"></a>
        <div class="comment">
            <div class="postinfo">Amit Jain, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-541">30 April 2011 19:45</a></div>
            <p>In a two word You are GREAT and GENIOUS !!!! </p>
        </div>
                <a name="comment-549"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://wysocki.org.pl" rel="nofollow">Jacek Wysocki</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-549">25 May 2011 09:18</a></div>
            <p>Hi, you save My day :) thanks!</p>
        </div>
                <a name="comment-565"></a>
        <div class="comment">
            <div class="postinfo">Tim Holahan, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-565">26 June 2011 15:04</a></div>
            <p>This page has been very helpful to me several times in the past several years in which I've been using postgres. I'm grateful to the author.<br />Several times I've used this information to figure out how to grant permissions to all objects in a schema to a particular user.<br />I thought it might be helpful to mention that, as of 9.0, postgres does have the syntax to grant privileges on all tables (as well as other objects) in a schema:<br /><pre class="brush: sql">
GRANT SELECT ON ALL TABLES IN SCHEMA public TO user;
GRANT EXECUTE ON ALL FUNCTIONS IN SCHEMA public TO user;
</pre><br />Here's the link:<br />http://www.postgresql.org/docs/current/interactive/sql-grant.html</p>
        </div>
                <a name="comment-606"></a>
        <div class="comment">
            <div class="postinfo">Hendri Soni, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-606">06 September 2011 09:53</a></div>
            <p>thank you, this is what I was looking.</p>
        </div>
                <a name="comment-608"></a>
        <div class="comment">
            <div class="postinfo">Les, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-608">03 October 2011 08:06</a></div>
            <p>Thanks - I\'d never have worked it out myself</p>
        </div>
                <a name="comment-615"></a>
        <div class="comment">
            <div class="postinfo">vee, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-615">31 October 2011 10:31</a></div>
            <p>Thank you Lorenzo... this post is very helpfull for me... thank you very much... :D
but, 1 question, is there a query to display the source script of the procedure?<br /><pre class="brush: sql">
(BEGIN
IF (NEW.somedate IS NULL OR NEW.somedate = 0) THEN
NEW.somedate := CURRENT_TIMESTAMP;
RETURN NEW;
END IF;
END;)
</pre></p>
        </div>
                <a name="comment-618"></a>
        <div class="comment">
            <div class="postinfo">Nirmal, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-618">10 November 2011 06:31</a></div>
            <p>How to find the dependencies in procedure and function like Tables, View etc</p>
        </div>
                <a name="comment-619"></a>
        <div class="comment">
            <div class="postinfo">Aditi, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-619">11 November 2011 09:42</a></div>
            <p>Hello, I find this article very useful... I am working on query optimization in PostgreSql. Can you tell me how to make changes in PostgreSql Metadata.How should I go about it as I am making small changes in the queries...
Plz reply asap.
Regards,
Aditi</p>
        </div>
                <a name="comment-620"></a>
        <div class="comment">
            <div class="postinfo">Nirmal, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-620">11 November 2011 11:40</a></div>
            <p>Please tell me how to get the name of tables which is in procedures.</p>
        </div>
                <a name="comment-627"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://roncemer.com" rel="nofollow">Ron</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-627">27 November 2011 14:36</a></div>
            <p>Change all references to &quot;unique_constraint_*&quot; to &quot;constraint_*&quot; in your joins.  The way it is now, it will only work for unique constraints.  By removing the &quot;unique_&quot; prefix, it should work for all constrains, including non-unique constraints.  I'm using it for foreign keys without the &quot;unique_&quot;; prefix, and it seems to be working fine.</p>
        </div>
                <a name="comment-628"></a>
        <div class="comment">
            <div class="postinfo">Pankaj Shinde, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-628">02 December 2011 07:02</a></div>
            <p>Hi Lorenzo, we are migrating our application from oracle DB to Postgres DB. in which one of piece of code requires metadata. So i am converting all oracle queries to Postgres. But here i am stucked can you please help me in this regard. The Oracle query is <br /><pre class="brush: sql">SELECT CONSTRAINT_NAME, 
       CONSTRAINT_TYPE, 
       TABLE_NAME,
       R_OWNER, 
       R_CONSTRAINT_NAME, 
       INDEX_OWNER, 
       INDEX_NAME 
 FROM user_constraints 
WHERE STATUS='ENABLED' 
ORDER BY constraint_type, TABLE_NAME
</pre><br />I have written equivalent postgres Query as: <br /><pre class="brush: sql">SELECT a.constraint_name, 
       b.constraint_type, 
       b.table_name,
       a.constraint_schema,
       a.unique_constraint_name 
 FROM information_schema.referential_constraints a, 
       information_schema.table_constraints b 
WHERE a.constraint_name = b.constraint_name 
ORDER BY b.constraint_type, b.table_name
</pre><br /> but its not returning the index_name and index_owner how to get it? please help, its urgent!</p>
        </div>
                <a name="comment-634"></a>
        <div class="comment">
            <div class="postinfo"><a href="http://www.alberton.info" rel="nofollow">Lorenzo Alberton</a>, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-634">04 December 2011 22:47</a></div>
            <p>@Pankaj, I'm not sure this is what you are looking for, give it a go:<br /><pre class="brush: sql">
SELECT i.indkey AS &quot;index_pos&quot;, 
       co.conname AS &quot;constraint_name&quot;,
       CASE co.contype
          WHEN 'p' THEN 'PRIMARY KEY'
          WHEN 'u' THEN 'UNIQUE'
       END AS &quot;constraint_type&quot;,
       oc.rolname AS &quot;constraint_owner&quot;,
       clt.relname AS &quot;table_name&quot;,
       ot.rolname AS &quot;table_owner&quot;,
       cli.relname AS &quot;index_name&quot;,
       oi.rolname AS &quot;index_owner&quot;
  FROM pg_index i     
  LEFT JOIN pg_constraint co ON co.conindid = i.indexrelid
  LEFT JOIN pg_class cli ON i.indexrelid = cli.oid
  LEFT JOIN pg_class clt ON i.indrelid = clt.oid    
  LEFT JOIN pg_class clc ON co.conrelid = clc.oid     
  LEFT JOIN pg_authid oi ON oi.oid = cli.relowner
  LEFT JOIN pg_authid ot ON ot.oid = clt.relowner
  LEFT JOIN pg_authid oc ON oc.oid = clc.relowner
 WHERE (i.indisprimary OR i.indisunique)
   AND clt.relname = 'test2';
</pre></p>
        </div>
                <a name="comment-637"></a>
        <div class="comment">
            <div class="postinfo">Pankaj Shinde, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-637">05 December 2011 09:43</a></div>
            <p>Hi Lorenzo, it helped me to find out solution. i got the desired output with following query: 
<pre class="brush: sql">
SELECT pc.oid, 
            conname as constraint_name, 
            contype as constraint_type, 
            table_name,
            rc.unique_constraint_schema as r_owner,
            rc.unique_constraint_name as r_constraint_name, 
            index_owner, 
            indexname 
from pg_constraint pc 
INNER JOIN (SELECT * FROM 
                 (SELECT oid as tableId,
                              relname as table_name 
                    FROM pg_class 
                    where relkind='r') A, 
                 (SELECT pg_class.oid as indexId,
                              pg_class.relname as indexname, 
                              information_schema.schemata.schema_owner as index_owner 
                    FROM information_schema.schemata, pg_class 
                    where relkind='i') B
                 ) AB 
          ON conrelid=tableId and conindid=indexId 
left join information_schema.referential_constraints rc on rc.constraint_name = pc.conname 
order by constraint_type, table_name
</pre> 
thanx a lot.</p>
        </div>
                <a name="comment-655"></a>
        <div class="comment">
            <div class="postinfo">Bruno, <a href="Extracting&#32;META&#32;information&#32;from&#32;PostgreSQL.html#comment-655">01 February 2012 16:57</a></div>
            <p>Hi,<br />  I am looking for the grants that one user(role) has. For example, if I give the grant bellow:<br />    grant select on tablektx to bruno;<br />  Now, I want to know which grants the user \&quot;bruno\&quot; has.<br />Thanks </p>
        </div>
            </div>
    
<!--
    <a name="commentform"></a>
    
    <div class="commentform">
        <h3>Leave a reply</h3>
            </div>
-->
    <div class="back"><a href="http://backup/articles">Back to the articles archive</a></div>
</div>
<div class="col3">
    <h4>
        </h4>
<form action="http://www.alberton.info/search" id="cse-search-box">
  <div>
    <input type="hidden" name="cx" value="partner-pub-1846047193336603:z1gxcswqg3w" />
    <input type="hidden" name="cof" value="FORID:11" />
    <input type="hidden" name="ie" value="UTF-8" />
    <input type="text" name="q" size="12" />
    <input type="submit" name="sa" value="Search" />
  </div>
</form>
<script type="text/javascript" src="http://www.google.co.uk/coop/cse/brand?form=cse-search-box&amp;lang=en"></script>    <h4>
        Lorenzo Alberton</h4>
<a href="http://backup/about"><img src="http://backup/images/profile.jpg" alt="Lorenzo Alberton" title="Lorenzo Alberton" class="embedded" width="80" height="80" /></a>
<a href="http://backup/about">Lorenzo</a> <a href="http://www.zend.com/store/education/certification/authenticate.php?ClientCandidateID=ZEND009122&amp;RegistrationID=227412175"><img src="http://backup/images/icon_zend.gif" width="16" height="16" alt="PHP5 ZCE - Zend Certified Engineer" title="PHP5 ZCE - Zend Certified Engineer" class="icon" /></a> has been working with large <a href="http://backup/portfolio">enterprise UK companies</a> for the past years and is now Chief Tech Architect at <a href="http://datasift.com">DataSift</a>.
He's an international <a href="http://backup/talks">conference speaker</a> and a long-time <a href="http://pear.php.net/user/quipo">contributor</a> to many <a href="http://backup/projects">open source projects</a>.
<a href="http://www.linkedin.com/in/lorenzoalberton"><img src="http://backup/images/icon_linkedin.jpg" width="18" height="18" alt="Lorenzo Alberton's profile on LinkedIN" title="Lorenzo Alberton's profile on LinkedIN" class="icon" /></a> 
<a href="http://twitter.com/lorenzoalberton" title="View Lorenzo Alberton's Twitter stream" class="icon"><img src="http://backup/images/icon_twitter16x16.png" width="18" height="18" class="icon" alt="View Lorenzo Alberton's Twitter stream"></a>

<br /><br />

<a href="https://twitter.com/lorenzoalberton" class="twitter-follow-button" data-show-count="false">Follow @lorenzoalberton</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

<!-- a href="http://pear.php.net/user/quipo"><img src="/images/icon_pear.gif" alt="Lorenzo Alberton's official PEAR page" title="Lorenzo Alberton's official PEAR page" class="icon" /></a -->
<img src="http://backup/images/mysql5_certified_170.png" class="embedded" width="170" height="99" alt="Lorenzo Alberton - Sun Certified MySQL 5 Developer" title="Lorenzo Alberton - Sun Certified MySQL 5 Developer" />
        <h4>
        Tags</h4>
<a href="http://backup/articles/filter/tag/AJAX">AJAX</a>, <a href="http://backup/articles/filter/tag/Apache">Apache</a>, <a href="http://backup/articles/filter/tag/Book&#32;Review">Book Review</a>, <a href="http://backup/articles/filter/tag/Charset">Charset</a>, <a href="http://backup/articles/filter/tag/Cheat&#32;Sheet">Cheat Sheet</a>, <a href="http://backup/articles/filter/tag/Data&#32;structures">Data structures</a>, <a href="http://backup/articles/filter/tag/Database">Database</a>, <a href="http://backup/articles/filter/tag/Firebird&#32;SQL">Firebird SQL</a>, <a href="http://backup/articles/filter/tag/Hadoop">Hadoop</a>, <a href="http://backup/articles/filter/tag/Imagick">Imagick</a>, <a href="http://backup/articles/filter/tag/INFORMATION_SCHEMA">INFORMATION_SCHEMA</a>, <a href="http://backup/articles/filter/tag/JavaScript">JavaScript</a>, <a href="http://backup/articles/filter/tag/Kafka">Kafka</a>, <a href="http://backup/articles/filter/tag/Linux">Linux</a>, <a href="http://backup/articles/filter/tag/Message&#32;Queues">Message Queues</a>, <a href="http://backup/articles/filter/tag/mod_rewrite">mod_rewrite</a>, <a href="http://backup/articles/filter/tag/Monitoring">Monitoring</a>, <a href="http://backup/articles/filter/tag/MySQL">MySQL</a>, <a href="http://backup/articles/filter/tag/NoSQL">NoSQL</a>, <a href="http://backup/articles/filter/tag/Oracle">Oracle</a>, <a href="http://backup/articles/filter/tag/PDO">PDO</a>, <a href="http://backup/articles/filter/tag/PEAR">PEAR</a>, <a href="http://backup/articles/filter/tag/Performance">Performance</a>, <a href="http://backup/articles/filter/tag/PHP">PHP</a>, <a href="http://backup/articles/filter/tag/PostgreSQL">PostgreSQL</a>, <a href="http://backup/articles/filter/tag/Profiling">Profiling</a>, <a href="http://backup/articles/filter/tag/Scalability">Scalability</a>, <a href="http://backup/articles/filter/tag/Security">Security</a>, <a href="http://backup/articles/filter/tag/SPL">SPL</a>, <a href="http://backup/articles/filter/tag/SQL&#32;Server">SQL Server</a>, <a href="http://backup/articles/filter/tag/SQLite">SQLite</a>, <a href="http://backup/articles/filter/tag/Testing">Testing</a>, <a href="http://backup/articles/filter/tag/Tutorial">Tutorial</a>, <a href="http://backup/articles/filter/tag/TYPO3">TYPO3</a>, <a href="http://backup/articles/filter/tag/Windows">Windows</a>, <a href="http://backup/articles/filter/tag/Zend&#32;Framework">Zend Framework</a>    <h4>
        </h4>
<a href="http://backup/donate"><img src="http://backup/images/amazon/big/joel-on-software.jpg" alt="Buy me a book - Joel On Software" title="Joel On Software" width="170" /></a>
</div>
    	<div class="fix"></div>
	</div>
</div>
<div id="footer">
    <div>&copy; 2009-2012 <a href="http://backup/about">Lorenzo Alberton</a> &nbsp; &bull; <a href="http://backup/">Home</a>&nbsp; &bull; <a href="http://backup/articles">Articles</a>&nbsp; &bull; <a href="http://backup/projects">Projects</a>&nbsp; &bull; <a href="http://backup/portfolio">Portfolio</a>&nbsp; &bull; <a href="http://backup/talks">Talks</a>&nbsp; &bull; <a href="http://backup/donate">Donate</a>&nbsp; </div>
</div>
<script type="text/javascript" src="http://backup/js/shCore.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushApache.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushBash.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushPhp.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushPlain.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushSql.js"></script>
<script type="text/javascript" src="http://backup/js/scripts/shBrushXml.js"></script>
<script type="text/javascript">
    //<![CDATA[
SyntaxHighlighter.all();    //]]>
</script></body>
</html>

